<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NODINOPRO - SA Learner's Licence Mastery</title>
    <style>
        :root {
            --primary: #1a2a6c;
            --secondary: #b21f1f;
            --accent: #fdbb2d;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --info: #17a2b8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav li {
            margin-left: 20px;
        }
        
        nav a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        
        nav a:hover, nav a.active {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .page {
            display: none;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }
        
        .page.active {
            display: block;
        }
        
        .welcome-section {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .welcome-section h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .welcome-section p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .features {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            margin: 30px 0;
        }
        
        .feature {
            flex: 0 0 30%;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .feature h3 {
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .cta-button {
            display: inline-block;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            color: white;
            font-size: 1.3rem;
            font-weight: 600;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            margin: 10px;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .cta-button:active {
            transform: translateY(1px);
        }
        
        .btn-group {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-accent {
            background: var(--accent);
            color: var(--dark);
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .road-signs-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .road-sign-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .road-sign-card:hover {
            transform: translateY(-5px);
        }
        
        .sign-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .sign-name {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .sign-description {
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .category-filter {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px 0;
        }
        
        .category-btn {
            padding: 8px 15px;
            margin: 5px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 20px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category-btn.active {
            background: var(--accent);
            color: var(--dark);
        }
        
        .assessment-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .question-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
        }
        
        .option {
            padding: 15px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .option:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .option.selected {
            background: rgba(253, 187, 45, 0.2);
            border-left: 4px solid var(--accent);
        }
        
        .option.correct {
            background: rgba(40, 167, 69, 0.2);
            border-left: 4px solid var(--success);
        }
        
        .option.incorrect {
            background: rgba(220, 53, 69, 0.2);
            border-left: 4px solid var(--danger);
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            border-radius: 5px;
            transition: width 0.5s;
        }
        
        .results-container {
            text-align: center;
            padding: 30px;
        }
        
        .score-display {
            font-size: 3rem;
            font-weight: 700;
            color: var(--accent);
            margin: 20px 0;
        }
        
        .result-message {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .sign-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: var(--dark);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--light);
        }
        
        .search-container {
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }
        
        .search-input {
            padding: 10px 15px;
            border: none;
            border-radius: 50px;
            width: 100%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 1rem;
        }
        
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        @media (max-width: 768px) {
            .feature {
                flex: 0 0 100%;
            }
            
            .page {
                padding: 20px;
            }
            
            header {
                flex-direction: column;
            }
            
            nav ul {
                margin-top: 15px;
            }
            
            .road-signs-container {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">NODINOPRO</div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="home">Home</a></li>
                    <li><a href="#" class="nav-link" data-page="road-signs">Road Signs</a></li>
                    <li><a href="#" class="nav-link" data-page="assessments">Assessments</a></li>
                    <li><a href="#" class="nav-link" data-page="progress">My Progress</a></li>
                </ul>
            </nav>
        </header>
        
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="welcome-section">
                <h2>Welcome to Your SA Learner's Licence Journey!</h2>
                <p>Master your South African learner's licence with 500+ real road signs, professional assessments, and expert guidance.</p>
            </div>
            
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">üö¶</div>
                    <h3>500+ Road Signs</h3>
                    <p>Comprehensive collection of South African road signs with detailed explanations.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üìù</div>
                    <h3>Professional Assessments</h3>
                    <p>Practice tests designed to simulate the official learner's licence exam.</p>
                </div>
                <div class="feature">
                    <div class="feature-icon">üë®‚Äçüè´</div>
                    <h3>Expert Guidance</h3>
                    <p>Tips and advice from certified driving instructors.</p>
                </div>
            </div>
            
            <div class="btn-group">
                <button class="cta-button" id="exploreSignsBtn">Explore Road Signs</button>
                <button class="cta-button" id="takeTestBtn">Take Practice Test</button>
            </div>
        </div>
        
        <!-- Road Signs Page -->
        <div id="road-signs" class="page">
            <h2>South African Road Signs</h2>
            <p>Browse through our comprehensive collection of road signs. Click on any sign to learn more.</p>
            
            <div class="search-container">
                <input type="text" class="search-input" id="signSearch" placeholder="Search for road signs...">
            </div>
            
            <div class="category-filter">
                <button class="category-btn active" data-category="all">All Signs</button>
                <button class="category-btn" data-category="regulatory">Regulatory</button>
                <button class="category-btn" data-category="warning">Warning</button>
                <button class="category-btn" data-category="guidance">Guidance</button>
                <button class="category-btn" data-category="temporary">Temporary</button>
            </div>
            
            <div class="road-signs-container" id="signsContainer">
                <!-- Road signs will be dynamically loaded here -->
            </div>
        </div>
        
        <!-- Assessments Page -->
        <div id="assessments" class="page">
            <h2>Practice Assessments</h2>
            <p>Test your knowledge with our practice assessments. Choose a test type to begin.</p>
            
            <div class="btn-group">
                <button class="btn btn-primary" id="roadSignsTest">Road Signs Test</button>
                <button class="btn btn-secondary" id="rulesTest">Rules of the Road</button>
                <button class="btn btn-accent" id="fullTest">Full Practice Test</button>
            </div>
            
            <div id="testContainer" style="display: none;">
                <div class="progress-bar">
                    <div class="progress" id="testProgress"></div>
                </div>
                
                <div class="assessment-container">
                    <div id="questionArea">
                        <!-- Questions will be dynamically loaded here -->
                    </div>
                    
                    <div class="navigation-buttons">
                        <button class="btn btn-primary" id="prevQuestion">Previous</button>
                        <button class="btn btn-primary" id="nextQuestion">Next</button>
                        <button class="btn btn-accent" id="submitTest">Submit Test</button>
                    </div>
                </div>
            </div>
            
            <div id="resultsArea" class="results-container" style="display: none;">
                <!-- Results will be displayed here -->
            </div>
        </div>
        
        <!-- Progress Page -->
        <div id="progress" class="page">
            <h2>My Learning Progress</h2>
            <p>Track your progress as you prepare for your learner's licence test.</p>
            
            <div class="progress-card" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3>Road Signs Mastery</h3>
                <div class="progress-bar">
                    <div class="progress" style="width: 65%"></div>
                </div>
                <p>65% of road signs mastered</p>
            </div>
            
            <div class="progress-card" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3>Assessment Performance</h3>
                <div class="progress-bar">
                    <div class="progress" style="width: 78%"></div>
                </div>
                <p>Average score: 78%</p>
            </div>
            
            <div class="progress-card" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin: 20px 0;">
                <h3>Study Time</h3>
                <p>Total time spent studying: 12 hours</p>
                <p>Last study session: 2 days ago</p>
            </div>
            
            <div class="btn-group">
                <button class="btn btn-primary">Continue Learning</button>
                <button class="btn btn-accent">Take Practice Test</button>
            </div>
        </div>
        
        <!-- Sign Detail Modal -->
        <div class="sign-detail-modal" id="signModal">
            <div class="modal-content">
                <span class="close-modal" id="closeModal">&times;</span>
                <div id="modalContent">
                    <!-- Modal content will be dynamically loaded here -->
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>¬© 2023 NODINOPRO. All rights reserved. This application is for educational purposes.</p>
        </div>
    </div>

    <script>
        // Sample data for road signs (in a real app, this would come from a database)
        const roadSigns = [
            {
                id: 1,
                name: "Stop Sign",
                category: "regulatory",
                icon: "üõë",
                description: "Come to a complete stop. Yield to all other traffic and pedestrians.",
                meaning: "You must bring your vehicle to a complete halt at the stop line. If there is no stop line, stop before entering the intersection. You may proceed only when it is safe to do so.",
                example: "At a four-way stop, the first vehicle to arrive has the right of way. If two vehicles arrive at the same time, the vehicle on the right has the right of way."
            },
            {
                id: 2,
                name: "Yield Sign",
                category: "regulatory",
                icon: "‚ö†Ô∏è",
                description: "Slow down and give way to traffic on the major road.",
                meaning: "You must slow down and be prepared to stop if necessary. Yield to all traffic on the road you are entering or crossing.",
                example: "When approaching a yield sign at a roundabout, you must yield to traffic already in the roundabout."
            },
            {
                id: 3,
                name: "Speed Limit 60",
                category: "regulatory",
                icon: "60",
                description: "Maximum speed limit is 60 km/h.",
                meaning: "You must not drive faster than the indicated speed under ideal conditions.",
                example: "This sign is commonly found in urban areas where lower speeds are necessary for safety."
            },
            {
                id: 4,
                name: "No Entry",
                category: "regulatory",
                icon: "üö´",
                description: "Do not enter this road.",
                meaning: "You are not allowed to enter the road beyond this sign.",
                example: "This sign is often placed at the exit of one-way streets to prevent wrong-way entry."
            },
            {
                id: 5,
                name: "No Parking",
                category: "regulatory",
                icon: "üÖøÔ∏è",
                description: "Parking is prohibited.",
                meaning: "You may not park your vehicle in this area.",
                example: "This sign is used in areas where parking would obstruct traffic flow or create safety hazards."
            },
            {
                id: 6,
                name: "Dangerous Curves Ahead",
                category: "warning",
                icon: "‚Ü©Ô∏è",
                description: "Warning for dangerous curves ahead.",
                meaning: "There are sharp curves ahead. Reduce your speed and be prepared for the change in road direction.",
                example: "Common on mountain roads or highways with sharp bends."
            },
            {
                id: 7,
                name: "Pedestrian Crossing",
                category: "warning",
                icon: "üö∂",
                description: "Watch for pedestrians crossing the road.",
                meaning: "There is a pedestrian crossing ahead. Be prepared to stop for pedestrians.",
                example: "Often found near schools, shopping areas, or other places with high pedestrian traffic."
            },
            {
                id: 8,
                name: "School Zone",
                category: "warning",
                icon: "üè´",
                description: "You are approaching a school zone.",
                meaning: "Reduce speed and watch for children. Special speed limits often apply during school hours.",
                example: "Speed limits in school zones are typically lower and enforced during specific times."
            },
            {
                id: 9,
                name: "Road Works Ahead",
                category: "temporary",
                icon: "üöß",
                description: "Road construction or maintenance ahead.",
                meaning: "Be prepared for changes in road conditions, possible lane closures, and workers on the road.",
                example: "Reduce speed and follow instructions from traffic controllers or signs in work zones."
            },
            {
                id: 10,
                name: "Slippery Road",
                category: "warning",
                icon: "üåßÔ∏è",
                description: "Road may be slippery, especially when wet.",
                meaning: "Reduce speed and increase following distance. The road surface may provide less traction.",
                example: "Common in areas prone to ice, oil spills, or when road surfaces are new."
            },
            {
                id: 11,
                name: "Wild Animals",
                category: "warning",
                icon: "üêò",
                description: "Warning for wild animals crossing.",
                meaning: "Be alert for animals crossing the road, especially at dawn and dusk.",
                example: "Common in game reserves and rural areas with high animal populations."
            },
            {
                id: 12,
                name: "Roundabout Ahead",
                category: "warning",
                icon: "‚≠ï",
                description: "Roundabout ahead.",
                meaning: "Prepare to enter a roundabout. Yield to traffic already in the roundabout.",
                example: "In South Africa, you yield to traffic from your right when entering a roundabout."
            }
        ];

        // Sample assessment questions
        const assessmentQuestions = {
            roadSigns: [
                {
                    id: 1,
                    question: "What does this sign mean? üõë",
                    options: [
                        "Slow down and proceed with caution",
                        "Come to a complete stop",
                        "Yield to traffic on the right",
                        "No stopping allowed"
                    ],
                    correctAnswer: 1,
                    explanation: "This is a stop sign. You must come to a complete stop and yield to all other traffic and pedestrians."
                },
                {
                    id: 2,
                    question: "When you see this sign ‚ö†Ô∏è, you should:",
                    options: [
                        "Maintain your speed",
                        "Speed up to merge quickly",
                        "Slow down and be prepared to yield",
                        "Come to a complete stop"
                    ],
                    correctAnswer: 2,
                    explanation: "This is a yield sign. You must slow down and be prepared to stop if necessary to yield to traffic."
                },
                {
                    id: 3,
                    question: "What is the meaning of this sign? üö´",
                    options: [
                        "No stopping",
                        "No entry",
                        "No overtaking",
                        "No U-turns"
                    ],
                    correctAnswer: 1,
                    explanation: "This is a no entry sign. You are not allowed to enter the road beyond this point."
                },
                {
                    id: 4,
                    question: "This sign üöß indicates:",
                    options: [
                        "Road narrows ahead",
                        "Road works ahead",
                        "Slippery road",
                        "Dangerous curves"
                    ],
                    correctAnswer: 1,
                    explanation: "This sign warns of road construction or maintenance ahead. Be prepared for changes in road conditions."
                },
                {
                    id: 5,
                    question: "When you see this sign üö∂, you should:",
                    options: [
                        "Speed up to clear the area quickly",
                        "Slow down and watch for pedestrians",
                        "Sound your horn to alert pedestrians",
                        "Ignore it if no pedestrians are visible"
                    ],
                    correctAnswer: 1,
                    explanation: "This sign indicates a pedestrian crossing ahead. Be prepared to stop for pedestrians."
                }
            ],
            rules: [
                {
                    id: 1,
                    question: "What is the legal blood alcohol concentration (BAC) limit for drivers in South Africa?",
                    options: [
                        "0.05%",
                        "0.08%",
                        "0.10%",
                        "0.02%"
                    ],
                    correctAnswer: 0,
                    explanation: "The legal BAC limit for drivers in South Africa is 0.05%."
                },
                {
                    id: 2,
                    question: "When approaching a traffic light that changes to yellow, you should:",
                    options: [
                        "Speed up to get through the intersection",
                        "Stop if it is safe to do so",
                        "Continue at the same speed",
                        "Sound your horn and proceed"
                    ],
                    correctAnswer: 1,
                    explanation: "A yellow light means prepare to stop. You should stop if it is safe to do so."
                },
                {
                    id: 3,
                    question: "What is the minimum following distance you should maintain behind another vehicle?",
                    options: [
                        "1 second",
                        "2 seconds",
                        "3 seconds",
                        "4 seconds"
                    ],
                    correctAnswer: 2,
                    explanation: "The recommended minimum following distance is 3 seconds in good conditions, increasing in poor conditions."
                }
            ]
        };

        // Application state
        let currentPage = 'home';
        let currentCategory = 'all';
        let currentTest = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let testScore = 0;

        // DOM Elements
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const categoryButtons = document.querySelectorAll('.category-btn');
        const signsContainer = document.getElementById('signsContainer');
        const signSearch = document.getElementById('signSearch');
        const signModal = document.getElementById('signModal');
        const closeModal = document.getElementById('closeModal');
        const modalContent = document.getElementById('modalContent');
        const exploreSignsBtn = document.getElementById('exploreSignsBtn');
        const takeTestBtn = document.getElementById('takeTestBtn');
        const roadSignsTestBtn = document.getElementById('roadSignsTest');
        const rulesTestBtn = document.getElementById('rulesTest');
        const fullTestBtn = document.getElementById('fullTest');
        const testContainer = document.getElementById('testContainer');
        const questionArea = document.getElementById('questionArea');
        const prevQuestionBtn = document.getElementById('prevQuestion');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const submitTestBtn = document.getElementById('submitTest');
        const testProgress = document.getElementById('testProgress');
        const resultsArea = document.getElementById('resultsArea');

        // Initialize the application
        function init() {
            // Load road signs
            renderRoadSigns(roadSigns);
            
            // Set up event listeners
            setupEventListeners();
        }

        // Set up all event listeners
        function setupEventListeners() {
            // Navigation
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    navigateToPage(page);
                });
            });

            // Category filters
            categoryButtons.forEach(button => {
                button.addEventListener('click', () => {
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentCategory = button.getAttribute('data-category');
                    filterRoadSigns();
                });
            });

            // Search functionality
            signSearch.addEventListener('input', filterRoadSigns);

            // Modal
            closeModal.addEventListener('click', () => {
                signModal.style.display = 'none';
            });

            // Home page buttons
            exploreSignsBtn.addEventListener('click', () => {
                navigateToPage('road-signs');
            });

            takeTestBtn.addEventListener('click', () => {
                navigateToPage('assessments');
            });

            // Assessment buttons
            roadSignsTestBtn.addEventListener('click', () => {
                startTest('roadSigns');
            });

            rulesTestBtn.addEventListener('click', () => {
                startTest('rules');
            });

            fullTestBtn.addEventListener('click', () => {
                startTest('full');
            });

            // Test navigation
            prevQuestionBtn.addEventListener('click', showPreviousQuestion);
            nextQuestionBtn.addEventListener('click', showNextQuestion);
            submitTestBtn.addEventListener('click', submitTest);
        }

        // Navigate to a specific page
        function navigateToPage(page) {
            // Update navigation
            navLinks.forEach(link => {
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });

            // Show the selected page
            pages.forEach(p => {
                if (p.id === page) {
                    p.classList.add('active');
                } else {
                    p.classList.remove('active');
                }
            });

            currentPage = page;
        }

        // Render road signs to the page
        function renderRoadSigns(signs) {
            signsContainer.innerHTML = '';
            
            signs.forEach(sign => {
                const signCard = document.createElement('div');
                signCard.className = 'road-sign-card';
                signCard.setAttribute('data-category', sign.category);
                signCard.innerHTML = `
                    <div class="sign-icon">${sign.icon}</div>
                    <div class="sign-name">${sign.name}</div>
                    <div class="sign-description">${sign.description}</div>
                `;
                
                signCard.addEventListener('click', () => {
                    showSignDetails(sign);
                });
                
                signsContainer.appendChild(signCard);
            });
        }

        // Filter road signs based on category and search term
        function filterRoadSigns() {
            const searchTerm = signSearch.value.toLowerCase();
            const signCards = document.querySelectorAll('.road-sign-card');
            
            signCards.forEach(card => {
                const category = card.getAttribute('data-category');
                const name = card.querySelector('.sign-name').textContent.toLowerCase();
                const description = card.querySelector('.sign-description').textContent.toLowerCase();
                
                const categoryMatch = currentCategory === 'all' || category === currentCategory;
                const searchMatch = name.includes(searchTerm) || description.includes(searchTerm);
                
                if (categoryMatch && searchMatch) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Show detailed information about a road sign
        function showSignDetails(sign) {
            modalContent.innerHTML = `
                <div class="sign-icon" style="font-size: 4rem; text-align: center;">${sign.icon}</div>
                <h2 style="text-align: center; margin: 15px 0; color: var(--accent);">${sign.name}</h2>
                <p><strong>Category:</strong> ${sign.category.charAt(0).toUpperCase() + sign.category.slice(1)}</p>
                <p><strong>Description:</strong> ${sign.description}</p>
                <p><strong>Meaning:</strong> ${sign.meaning}</p>
                <p><strong>Example:</strong> ${sign.example}</p>
            `;
            
            signModal.style.display = 'flex';
        }

        // Start a test
        function startTest(testType) {
            currentTest = testType;
            currentQuestionIndex = 0;
            userAnswers = [];
            testScore = 0;
            
            // Hide test selection buttons and show test container
            document.querySelector('.btn-group').style.display = 'none';
            testContainer.style.display = 'block';
            resultsArea.style.display = 'none';
            
            // Load the first question
            loadQuestion();
        }

        // Load the current question
        function loadQuestion() {
            const questions = getCurrentTestQuestions();
            
            if (currentQuestionIndex >= questions.length) {
                submitTest();
                return;
            }
            
            const question = questions[currentQuestionIndex];
            
            // Update progress bar
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            testProgress.style.width = `${progress}%`;
            
            // Create question HTML
            questionArea.innerHTML = `
                <div class="question-card">
                    <div class="question-text">${currentQuestionIndex + 1}. ${question.question}</div>
                    <div class="options-container">
                        ${question.options.map((option, index) => `
                            <div class="option ${userAnswers[currentQuestionIndex] === index ? 'selected' : ''}" data-index="${index}">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    ${userAnswers[currentQuestionIndex] !== undefined ? 
                        `<div class="explanation" style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 5px;">
                            <strong>Explanation:</strong> ${question.explanation}
                        </div>` : ''
                    }
                </div>
            `;
            
            // Add event listeners to options
            const options = questionArea.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', () => {
                    // Remove selected class from all options
                    options.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    option.classList.add('selected');
                    
                    // Store the answer
                    userAnswers[currentQuestionIndex] = parseInt(option.getAttribute('data-index'));
                });
            });
            
            // Update navigation buttons
            prevQuestionBtn.disabled = currentQuestionIndex === 0;
            nextQuestionBtn.textContent = currentQuestionIndex === questions.length - 1 ? 'Finish' : 'Next';
        }

        // Get questions for the current test
        function getCurrentTestQuestions() {
            if (currentTest === 'roadSigns') {
                return assessmentQuestions.roadSigns;
            } else if (currentTest === 'rules') {
                return assessmentQuestions.rules;
            } else {
                // For full test, combine questions from both categories
                return [...assessmentQuestions.roadSigns, ...assessmentQuestions.rules];
            }
        }

        // Show the previous question
        function showPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        // Show the next question
        function showNextQuestion() {
            const questions = getCurrentTestQuestions();
            
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                submitTest();
            }
        }

        // Submit the test and show results
        function submitTest() {
            const questions = getCurrentTestQuestions();
            let correctAnswers = 0;
            
            // Calculate score
            questions.forEach((question, index) => {
                if (userAnswers[index] === question.correctAnswer) {
                    correctAnswers++;
                }
            });
            
            testScore = Math.round((correctAnswers / questions.length) * 100);
            
            // Display results
            resultsArea.style.display = 'block';
            testContainer.style.display = 'none';
            
            let resultMessage = '';
            if (testScore >= 80) {
                resultMessage = 'Excellent! You are well prepared for your learner\'s licence test.';
            } else if (testScore >= 70) {
                resultMessage = 'Good job! You have a solid understanding but could use more practice.';
            } else if (testScore >= 60) {
                resultMessage = 'You passed, but consider reviewing the material before taking the actual test.';
            } else {
                resultMessage = 'You need more practice. Review the road signs and rules before trying again.';
            }
            
            resultsArea.innerHTML = `
                <h2>Test Results</h2>
                <div class="score-display">${testScore}%</div>
                <div class="result-message">${resultMessage}</div>
                <p>You answered ${correctAnswers} out of ${questions.length} questions correctly.</p>
                <div class="btn-group">
                    <button class="btn btn-primary" id="reviewTest">Review Answers</button>
                    <button class="btn btn-accent" id="retakeTest">Retake Test</button>
                    <button class="btn btn-secondary" id="newTest">Take Another Test</button>
                </div>
            `;
            
            // Add event listeners to result buttons
            document.getElementById('reviewTest').addEventListener('click', reviewTest);
            document.getElementById('retakeTest').addEventListener('click', () => startTest(currentTest));
            document.getElementById('newTest').addEventListener('click', () => {
                document.querySelector('.btn-group').style.display = 'flex';
                resultsArea.style.display = 'none';
            });
        }

        // Review test answers
        function reviewTest() {
            currentQuestionIndex = 0;
            testContainer.style.display = 'block';
            resultsArea.style.display = 'none';
            loadQuestion();
            
            // Disable option selection during review
            const options = questionArea.querySelectorAll('.option');
            options.forEach(option => {
                option.style.pointerEvents = 'none';
                
                const index = parseInt(option.getAttribute('data-index'));
                const question = getCurrentTestQuestions()[currentQuestionIndex];
                
                if (index === question.correctAnswer) {
                    option.classList.add('correct');
                } else if (userAnswers[currentQuestionIndex] === index && index !== question.correctAnswer) {
                    option.classList.add('incorrect');
                }
            });
        }

        // Initialize the application when the DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
